---
import Dot from './Dot.astro';
import HeaderLink from './HeaderLink.astro';

import { SITE_TITLE } from '../consts';

interface	Props {
	active: 'index' | 'blog' | 'projects' | 'about' | 'cv'; 
	language: 'en' | 'pl';
}

const { active, language } = Astro.props;
const linkPrefix = language === 'pl' ? '/pl' : ''

const links = [
	{ link: 'blog', name: 'Articles' },
	{ link: 'projects', name: 'Projects' },
	{ link: 'about', name: 'About' },
]
---

<header>
	<nav class="top">
		<h4>
			<a href="/">
				{SITE_TITLE}
				{active === 'index' && (<Dot />)}
			</a>
		</h4>
		<div class="languages">
			<a href="/">en</a>
			/
			<a href="/pl">pl</a>
		</div>
	</nav>

	<nav class="bottom">
		{links.map(({link, name}) => (
		<HeaderLink prefix={linkPrefix} active={active} link={link} name={name} />
		))}
	</nav>
</header>

<style>
header {
	margin: 0;
	padding: 2rem;
	background: var(--background);
	box-shadow: 0 2px 8px rgba(var(--black), 5%);
	border-bottom: 1px solid var(--background-surface);
}

nav {
	display: flex;
	align-items: center;
	justify-content: space-between;
	max-width: 720px;
	margin: auto;
	gap: 0.5rem;

	@media screen and (max-width: 400px) {
		flex-direction: column;
	}
}

a {
	text-decoration: none;
	color: var(--brand-7);
	font-family: var(--body-font);
	letter-spacing: 0;
}

.languages {
	font-variant: small-caps;

	color: var(--background-surface);

	a {
		text-decoration: none;
		color: var(--foreground);
	}
}
</style>
